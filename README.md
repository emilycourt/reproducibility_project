This is a reproduction package for the report "Evaluating Performance of YFilter's Approach to Nested Path Expression Processing"[[1]](#1)

This repository contains a Dockerfile. After building the docker image, the experiments described in the report can be replicated in the docker container. To do so, follow these steps:

1. Build the docker image from the `home/repro` directory:
>	docker buildx build -t project .

2. Run the docker container: 
>	docker run --name=project -it project

3. Then, to run the experiment and generate the report with the results, run the `doAll.sh` script, located in the `scripts` directory.
>	./scripts/doAll.sh

### Notes

- The docker container has the following contents in the `home/repro` directory:

	- `data` - a directory containing all the required data for the experiment.
		- `data/xml` contains 200 XML files, which were generated by the YFilter team, and copied from the YFilter project[[2]](#2).
		- `data/queries` contains three query files, generated using the YFilter query generator[[2]](#2). The script used to generate these files is also included in this directory.

	- `scripts` - A directory containing the following scripts:
		- `experiment.sh` - Executes the experiment. The results from the experiment can then be found in the `results` directory.
		- `create_graph.py` - Creates a graph of the results of the experiment. The resulting graph is called `replication_figure.png`, and can be found in the `report/results` directory.
		- `doAll.sh` - Runs the experiment, creates a graph of the results, and generates a new report with the experiment results.
		- `smoke.sh` - Tests that the required components of the YFilter software are running properly.

	- `yfilter-1.0` - The YFilter project[[2]](#2), downloaded from `http://yfilter.cs.umass.edu/code_release.htm`. The licence for this project can be found inside this directory in the `COPYRIGHT` file. No modifications have been made to this resource.
		- Note: in order to download the YFilter source from the website, an email address must be provided in a form on the website. Because of this, and since the YFilter project has a license which allows for redistribution of the source code, we have included the YFilter source code in our github repository rather than attempting to download it directly into the docker container.

	- `report` - A cloned repository of the latex report, including a `Makefile` that can be used to build a pdf of the report.

- Since the query generator does not produce static results, we have decided to keep the query files used in our experiment in the `data/queries` directory, rather than generating them at the time of the experiment. This ensures the exeriment can be reproduced easily in the future.

- The YFilter source contains pre-compiled executables which we decided to use for our experiment. It is also possible to modify the source code and compile the source code directly. Since we did not require any modifications, we simply use the provided executables.

### References
<a id="1">[1]</a> 
Y. Diao, M. Altinel, M. J. Franklin, H. Zhang, and P. Fischer.
2003. 
Path Sharing and Predicate Evaluation for High-Performance XML Filtering.
ACM Trans. Database Syst. 28, 4 (dec 2003). 
https://doi.org/10.1145/958942.958947

<a id="2">[2]</a>
2002. YFilter 1.0. 
Retrieved Jan 8, 2024 from http://yfilter.cs.umass.edu/code_release.htm